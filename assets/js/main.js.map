{"version":3,"sources":["../webpack/bootstrap","Meta.js","Card.js","CardCourse.js","CardResource.js","CardLibrarian.js","CardLoan.js","CardRequest.js","CardFee.js","LastUpdated.js","ButtonShowAll.js","CardContainer.js","Error.js","SupportWidget.js","ViewHome.js","ViewCourse.js","ViewResource.js","ViewLibrarian.js","ViewCirculation.js","ViewLoan.js","ViewRequest.js","ViewFee.js","ViewSupport.js","Sidebar.js","Spinner.js","Graphql.js","App.js","FetchData.js","LoadingData.js","index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Meta","this","props","meta","className","type","react_default","a","createElement","href","React","Component","Card","replace","resource","title","externalUrl","react_router_dom","to","prefixUrl","slug","onClick","e","handleClick","map","src_Meta","description","CardCourse","formatDate","date","y","substr","Date","toLocaleDateString","undefined","month","day","year","courseData","startDate","endDate","src_Card","assign","CardResource","courseSlug","resourceData","url","CardLibrarian","CardLoan","due_date","CardRequest","due_back_date","CardFee","original_amount","LastUpdated","_this","formattedDate","classCallCheck","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","Number","state","ButtonShowAll","numToShow","numberOfResources","handleButtonClick","CardContainer","userData","dataType","cacheDate","number","setState","headerContent","footerContent","header","toLowerCase","resources","card","theseProps","id","src_CardCourse","src_CardResource","src_CardLibrarian","src_CardLoan","src_CardRequest","src_CardFee","src_LastUpdated","src_ButtonShowAll","Error","message","SupportWidget","institution","__lc","license","lc","document","async","src","getElementsByTagName","parentNode","insertBefore","qp","qwidgetno","onload","QwidgetBootStrap","embed","style","height","ViewHome","error","src_Error","errorMessage","src_SupportWidget","parentState","bridgeLibraryInstitution","src_CardContainer","ViewCourse","groupResources","resourceTypes","withoutType","forEach","resourceType","typeName","ancestors","ancestor","resourcesCheck","coreResourceTypes","coreResourcesWithoutType","relatedResourcesWithoutType","course","currentObject","resourceCards","coreResourceCards","librarianCards","printTypes","types","click","output","academicDepartment","courseNumber","relatedCoursesResources","coreResources","librarians","librarian","librarianData","find","dept","filter","keys","lengh","ViewResource","author","isbn","publicationYear","ViewLibrarian","reduce","departmentString","department","librarianUserId","emailAddress","phoneNumber","officeLocation","website","picture","ViewCirculation","requestHeaderContent","circulationData","ViewLoan","loan","loans","loan_status","loan_date","circ_desk","desc","library","mms_id","ViewRequest","request","requests","request_type","pickup_location_library","booking_start_date","booking_end_date","ViewFee","fee","fees","ViewSupport","Sidebar","Sidebar_CourseWidget","courses","courseWidgets","buildWidgets","widgets","widgetClass","view","itemType","itemScope","role","Sidebar_CirculationWidget","CourseWidget","splitCode","courseCode","split","getCourseTitle","CirculationWidget","_this2","Spinner","USER_QUERY","gql","_templateObject","App","users","edges","node","JSON","parse","loan_id","user","currentView","getCurrentObject","loading","fetchedData","allResources","getObjectId","getObjectTitle","fetchData","getUrlSlug","handleHistory","onpopstate","courseResources","slugInfo","location","pop","urlPath","pathname","fetchQuery","slugdata","fetch","method","headers","Content-Type","body","stringify","query","variables","then","response","json","responseAsJson","errors","mergedData","newCourse","newResource","newLibrarian","arguments","urlSlug","fetchedStateCourse","status","primoFavorites","favorite","fetchedStateLibrarian","src_Spinner","src_ViewHome","src_ViewCourse","src_ViewLibrarian","src_ViewResource","src_ViewCirculation","src_ViewLoan","src_ViewRequest","src_ViewFee","src_ViewSupport","src_Sidebar","itemProp","LoadingData","globalKeyCheck","client","ApolloClient","uri","DelayedQuery","_ref","currentData","updateKey","_useQuery","useQuery","email","graphqlQuery","pollInterval","refetch","startPolling","stopPolling","coursesCacheUpdated","librariansCacheUpdated","primoFavoritesCacheUpdated","circulationDataCacheUpdated","src_LoadingData","render","react_common_esm","_useState","useState","_useState2","slicedToArray","setKey","_useQuery2","queryError","react_router","exact","path","src_App","now","getElementById"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([47,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react';\n\nclass Meta extends React.Component {\n\trender() {\n\t\tif (null === this.props.meta.value || 'undefined' === typeof this.props.meta.value) {\n\t\t\treturn false\n\t\t}\n\n\t\tvar className = '';\n\t\tif ('undefined' !== typeof this.props.meta.className && this.props.meta.className.length > 0) {\n\t\t\tclassName = this.props.meta.className;\n\t\t}\n\n\t\tif ('URL' === this.props.meta.type) {\n\t\t\tthis.props.meta.value = <a href={this.props.meta.value} className=\"button\">View</a>\n\t\t}\n\n\t\treturn (\n\t\t\t<li className={className}>{this.props.meta.type}: {this.props.meta.value}</li>\n\t\t)\n\t}\n}\n\nexport default Meta;\n","import React from 'react';\nimport Meta from './Meta.js';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nclass Card extends React.Component {\n\trender() {\n\t\tfunction resourceCheck (props) {\n\t\t\tif (props.type === \"resources\" || props.type === \"primoFavorites\") {\n\t\t\t\treturn (\n\t\t\t\t\t<a href={props.externalUrl}>{props.resource.title}</a>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<Link to={props.prefixUrl + props.resource.slug} onClick={(e) => props.handleClick(props.resource.slug, props.type)}>{props.resource.title}</Link>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tconst className = 'card ' + this.props.type.replace(/s/, \"\");\n\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t{this.props.resource.title && <h3 className=\"title\">{resourceCheck(this.props)}</h3>}\n\t\t\t\t{(this.props.type === \"resources\" || this.props.type === \"primoFavorites\") ? <div></div> : \n\t\t\t\t( this.props.meta &&  <ul className=\"meta\">\n\t\t\t\t\t{this.props.meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t\t</ul>)}\n\t\t\t\t{this.props.description && <p className=\"description\">{this.props.description}</p>}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardCourse extends Card {\n\trender() {\n\t\tfunction formatDate(date) {\n\t\t\tvar format = {\n\t\t\t\t\tmonth: 'long',\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t\tyear: 'numeric',\n\t\t\t\t},\n\t\t\t\ty = date.substr(0,4),\n\t\t\t\tm = date.substr(4,2),\n\t\t\t\td = date.substr(6,2);\n\t\t\tdate = new Date(y,m,d);\n\t\t\treturn date.toLocaleDateString(undefined, format);\n\t\t}\n\n\t\tconst meta = [\n\t\t\t{\n\t\t\t\ttype: 'Start Date',\n\t\t\t\tvalue: formatDate(this.props.resource.courseData.startDate),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'End Date',\n\t\t\t\tvalue: formatDate(this.props.resource.courseData.endDate),\n\t\t\t},\n\t\t];\n\n\t\treturn <Card meta={meta} prefixUrl=\"/courses/\" {...this.props} />\n\t}\n}\n\nexport default CardCourse;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardResource extends Card {\n\trender() {\n\t\tvar prefixUrl = (this.props.type === 'resources' ? '/courses/' + this.props.courseSlug : '' ) + \n\t\t\t\t\t\t(this.props.type === 'primoFavorites' ? '/primo-favorites/' : '/resources/');\n\t\treturn <Card resource={this.props.resource} externalUrl={this.props.resource.resourceData.url} handleClick={this.props.handleClick} type={this.props.type} prefixUrl={prefixUrl}/>\n\t}\n}\n\nexport default CardResource;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardLibrarian extends Card {\n\trender() {\n\t\treturn <Card resource={this.props.resource} handleClick={this.props.handleClick} type={this.props.type} prefixUrl=\"/librarians/\"/>\n\t}\n}\n\nexport default CardLibrarian;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardLoan extends Card {\n\tformatDate(date) {\n\t\tvar format = {\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\tyear: 'numeric',\n\t\t};\n\t\tdate = new Date(date);\n\t\treturn date.toLocaleDateString(undefined, format);\n\t}\n\n\trender() {\n\t\tconst meta = [\n\t\t\t{\n\t\t\t\ttype: 'Due Date',\n\t\t\t\tvalue: this.formatDate(this.props.resource.due_date),\n\t\t\t\tclassName: 'important',\n\t\t\t},\n\t\t];\n\t\treturn <Card resource={this.props.resource} meta={meta} prefixUrl=\"/circulation-data/\" handleClick={this.props.handleClick} type={this.props.type} />\n\t}\n}\n\nexport default CardLoan;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardRequest extends Card {\n\trender() {\n\t\tconst meta = [\n\t\t\t{\n\t\t\t\ttype: 'Due Date',\n\t\t\t\tvalue: this.props.resource.due_back_date,\n\t\t\t},\n\t\t];\n\t\treturn <Card resource={this.props.resource} meta={meta} prefixUrl=\"/circulation-data/\" handleClick={this.props.handleClick} type={this.props.type} />\n\t}\n}\n\nexport default CardRequest;\n","import React from 'react';\nimport Card from './Card.js';\n\nclass CardFee extends Card {\n\trender() {\n\t\tconst meta = [\n\t\t\t{\n\t\t\t\ttype: 'Amount',\n\t\t\t\tvalue: this.props.resource.original_amount,\n\t\t\t},\n\t\t];\n\n\t\treturn <Card resource={this.props.resource} meta={meta} prefixUrl=\"/circulation-data/\" handleClick={this.props.handleClick} type={this.props.type} />\n\t}\n}\n\nexport default CardFee;\n","import React from 'react';\n\nclass LastUpdated extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.formatDate = this.formatDate.bind(this);\n\n\t\tvar formattedDate;\n\t\tif ('undefined' === typeof this.props.date) {\n\t\t\tformattedDate = false;\n\t\t} else {\n\t\t\t// Reminder: JS includes microseconds in timestamp, PHP does not.\n\t\t\tconst date = new Date(Number(this.props.date + '000'));\n\t\t\tformattedDate = this.formatDate(date);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tdate: formattedDate,\n\t\t}\n\t}\n\n\tformatDate(date) {\n\t\tvar format = {\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\tyear: 'numeric',\n\t\t};\n\t\tdate = new Date(date);\n\t\treturn date.toLocaleDateString(undefined, format);\n\t}\n\n    render() {\n\t\tif (! this.state.date) {\n\t\t\treturn false;\n\t\t}\n\n        return (<p className=\"meta\">Last updated {this.state.date}</p>)\n    }\n}\n\nexport default LastUpdated;\n","import React from 'react';\n\nclass ButtonShowAll extends React.Component {\n    render() {\n        if ((typeof this.props.numToShow === \"number\") && this.props.numberOfResources < this.props.numToShow) {\n            return false;\n        }\n        return (\n        <div>\n            {this.props.numToShow === 'all' && <button onClick={(e) => this.props.handleButtonClick(6)}>Collapse</button>}\n            {this.props.numToShow <= 6 && <button onClick={(e) => this.props.handleButtonClick('all')}>Expand</button>}\n        </div>\n        )\n    }\n}\n\nexport default ButtonShowAll;","import React from 'react';\nimport Card from './Card.js';\nimport CardCourse from './CardCourse.js';\nimport CardResource from './CardResource.js';\nimport CardLibrarian from './CardLibrarian.js';\nimport CardLoan from './CardLoan.js';\nimport CardRequest from './CardRequest.js';\nimport CardFee from './CardFee.js';\nimport LastUpdated from './LastUpdated.js';\nimport ButtonShowAll from './ButtonShowAll.js';\nimport { BrowserRouter as Link } from 'react-router-dom';\n\nclass CardContainer extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserData: ((this.props.userData === null) ? null : this.props.userData[this.props.type]),\n\t\t\tdataType: this.props.type,\n\t\t\tcacheDate: ((this.props.userData === null) ? null : this.props.userData[this.props.type+'CacheUpdated']),\n\t\t\tnumToShow: 6,\n\t\t};\n\n\t\tthis.handleButtonClick = this.handleButtonClick.bind(this);\n\t}\n\n\thandleButtonClick(number) {\n\t\tthis.setState({\n\t\t\tnumToShow: number\n\t\t})\n\t}\n\n\trender() {\n\t\tvar headerContent,\n\t\t\tfooterContent;\n\n\t\tif ('undefined' !== typeof this.props.headerContent) {\n\t\t\theaderContent = this.props.headerContent;\n\t\t}\n\n\t\tif ('undefined' !== typeof this.props.footerContent) {\n\t\t\tfooterContent = this.props.footerContent;\n\t\t}\n\n\t\tif (this.state.userData === undefined || null === this.state.userData || 0 === this.state.userData.length) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{this.props.header}</h3>\n\t\t\t\t\t<p>You have no {this.props.header.toLowerCase()} to display. Please <Link to=\"/support/\">contact support</Link> if you think  you should have some.</p>\n\t\t\t\t\t{headerContent}\n\t\t\t\t\t{footerContent}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\tvar resources = this.state.userData;\n\t\tif (typeof this.state.numToShow === 'number') {\n\t\t\tresources = this.state.userData.slice(0, this.state.numToShow);\n\t\t}\n\n\t\tvar resourceData = [];\n\t\tfor (var i=0; i < resources.length; i++) {\n\t\t\tvar card = null,\n\t\t\t\ttheseProps = {\n\t\t\t\t\tkey: resources[i].id,\n\t\t\t\t\tresource: resources[i],\n\t\t\t\t\thandleClick: this.props.handleClick,\n\t\t\t\t\ttype: this.props.type,\n\t\t\t\t};\n\n\t\t\tswitch (this.state.dataType) {\n\t\t\t\tcase 'courses':\n\t\t\t\t\tcard = <CardCourse {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resources':\n\t\t\t\tcase 'primoFavorites':\n\t\t\t\t\tcard = <CardResource {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'librarians':\n\t\t\t\t\tcard = <CardLibrarian {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'loans':\n\t\t\t\t\tcard = <CardLoan {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'requests':\n\t\t\t\t\tcard = <CardRequest {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fees':\n\t\t\t\t\tcard = <CardFee {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcard = <Card {...theseProps} />\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tresourceData.push(card);\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>{this.props.header}</h2>\n\t\t\t\t<LastUpdated date={this.state.cacheDate} />\n\t\t\t\t{headerContent}\n\t\t\t\t<div className=\"card-container\">\n\t\t\t\t\t{resourceData}\n\t\t\t\t</div>\n\t\t\t\t<ButtonShowAll numberOfResources={this.state.userData.length} numToShow={this.state.numToShow} handleButtonClick={this.handleButtonClick}/>\n\t\t\t\t{footerContent}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default CardContainer;\n","import React from \"react\";\n\nclass Error extends React.Component {\n    render() {\n        return (\n\t\t\t<div>\n\t\t\t\t<p>Sorry, we cant load data for your user account. Either you dont have an account or something else went wrong.</p>\n\t\t\t\t<p>Error data:</p>\n\t\t\t\t<pre>\n\t\t\t\t\t<code>\n\t\t\t\t\t\t{this.props.message}\n\t\t\t\t\t</code>\n\t\t\t\t</pre>\n\t\t\t</div>\n        )\n    }\n}\n\nexport default Error;\n","/* global QwidgetBootStrap */\nimport React from 'react';\n\nclass SupportWidget extends React.Component {\n    render() {\n\n\t\tif ('stolaf.edu' === this.props.institution) {\n\t\t\twindow.__lc = window.__lc || {};\n\t\t\twindow.__lc.license = 7639251;\n\n\t\t\t(function() {\n\t\t\t\tvar lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = true;\n\t\t\t\tlc.src = 'https://cdn.livechatinc.com/tracking.js';\n\t\t\t\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);\n\t\t\t})();\n\n\t\t\treturn null;\n\t\t} else if ('carleton.edu' === this.props.institution) {\n\n\t\t\t// Carleton.\n\t\t\t(function() {\n\t\t\t\tvar qp = document.createElement('script'); qp.type = 'text/javascript'; qp.async = true;\n\t\t\t\tqp.src = 'https://www.questionpoint.org/crs/qwidgetV4/js/qwidget.bootstrapnj.js?langcode=1&instid=13819&skin=gray&size=fill&customSkin=https%3A%2F%2Fwww.carleton.edu%2Fdepartments%2FLIBR%2FQuestionPoint%2Fcss%2Fcustom.css%0A';\n\t\t\t\tqp.id = 'questionpoint.bootstrap1';\n\t\t\t\tqp.qwidgetno = '1';\n\t\t\t\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qp, s);\n\n\t\t\t\tqp.onload = () => {\n\t\t\t\t\tif ('undefined' !== typeof QwidgetBootStrap) {\n\t\t\t\t\t\tQwidgetBootStrap.embed();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})();\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Carleton Support</h2>\n\t\t\t\t\t<div style={{height: \"350px\"}}>\n\t\t\t\t\t\t<div id=\"questionpoint.chatwidget1\" qwidgetno=\"1\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>When Carleton librarians are not available, librarians from other institutions will be available to help you 24/7.</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\treturn null;\n    }\n}\n\nexport default SupportWidget;\n","import React from 'react';\nimport CardContainer from './CardContainer.js';\nimport Error from './Error.js';\nimport SupportWidget from './SupportWidget.js';\n\nclass ViewHome extends React.Component {\n\trender() {\n\t\tif (this.props.error) {\n\t\t\treturn <Error message={this.props.errorMessage}/>\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<SupportWidget institution={this.props.parentState.userData.bridgeLibraryInstitution} />\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData}\n\t\t\t\t\ttype=\"courses\"\n\t\t\t\t\theader=\"Courses\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t/>\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData}\n\t\t\t\t\ttype=\"librarians\"\n\t\t\t\t\theader=\"Librarians\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t/>\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData}\n\t\t\t\t\ttype=\"primoFavorites\"\n\t\t\t\t\theader=\"Primo Favorites\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewHome;\n","import React from 'react';\nimport CardResource from './CardResource.js';\nimport CardLibrarian from './CardLibrarian.js';\nimport Meta from './Meta.js';\n\nclass ViewCourse extends React.Component {\n\trender() {\n\t\tfunction formatDate(date) {\n\t\t\tvar format = {\n\t\t\t\t\tmonth: 'long',\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t\tyear: 'numeric',\n\t\t\t\t},\n\t\t\t\ty = date.substr(0,4),\n\t\t\t\tm = date.substr(4,2),\n\t\t\t\td = date.substr(6,2);\n\t\t\tdate = new Date(y,m,d);\n\t\t\treturn date.toLocaleDateString(undefined, format);\n\t\t}\n\t\tfunction groupResources(resources, resourceTypes, withoutType) {\n\t\t\tresources.forEach((resource) => \n\t\t\t{ \n\t\t\t\tif (resource.resourceData.resourceType.length > 0) {\n\t\t\t\t\tvar typeName = \"\";\n\t\t\t\t\tresource.resourceData.resourceType.forEach((type) => \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttypeName = type.name;\n\t\t\t\t\t\t\tif (type.ancestors !== null ) {\n\t\t\t\t\t\t\t\ttype.ancestors.forEach((ancestor) => {typeName = ancestor.name + \": \"  + typeName})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof resourceTypes[typeName] === \"undefined\") {\n\t\t\t\t\t\t\t\tresourceTypes[typeName] = [resource]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresourceTypes[typeName].push(resource)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t} else if (resource.resourceData.resourceType.length === 0) {\n\t\t\t\t\twithoutType.push(resource)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tvar resourcesCheck = false;\n\t\tvar resourceTypes = {};\n\t\tvar coreResourceTypes = {};\n\t\tvar coreResourcesWithoutType = [];\n\t\tvar relatedResourcesWithoutType = [];\n\t\tvar course = this.props.parentState.currentObject,\n\t\t\tcourseData = this.props.parentState.currentObject.courseData,\n\t\t\tresourceCards = [],\n\t\t\tcoreResourceCards = [],\n\t\t\tlibrarianCards = [],\n\t\t\tmeta =[];\n\t\tif ('undefined' !== typeof courseData && null !== courseData) {\n\t\t\tmeta = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'Start Date',\n\t\t\t\t\tvalue: formatDate(courseData.startDate),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'End Date',\n\t\t\t\t\tvalue: formatDate(courseData.endDate),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Academic Department',\n\t\t\t\t\tvalue: courseData.academicDepartment['0'].name,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Course Number',\n\t\t\t\t\tvalue: courseData.courseNumber,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Description',\n\t\t\t\t\tvalue: courseData.description,\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (null !== courseData.relatedCoursesResources && courseData.relatedCoursesResources.length > 0) {\n\t\t\t\tresourcesCheck = true;\n\t\t\t\tgroupResources(courseData.relatedCoursesResources, resourceTypes, relatedResourcesWithoutType);\n\t\t\t\tresourceCards =  relatedResourcesWithoutType.map((resource) => {\n\t\t\t\t\treturn <CardResource key={resource.id} courseSlug={course.slug} resource={resource} handleClick={this.props.handleClick} type=\"resources\"/>\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tresourcesCheck = false;\n\t\t\t\tresourceCards = []\n\t\t\t}\n\n\t\t\tif (null !== courseData.coreResources && courseData.coreResources.length > 0) {\n\t\t\t\tgroupResources(courseData.coreResources, coreResourceTypes, coreResourcesWithoutType);\n\t\t\t\tcoreResourceCards = coreResourcesWithoutType.map((resource) => {\n\t\t\t\t\treturn <CardResource key={resource.id} courseSlug={course.slug} resource={resource} handleClick={this.props.handleClick} type=\"resources\"/>\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcoreResourceCards = []\n\t\t\t}\n\n\t\t\tif (this.props.parentState.userData.librarians && this.props.parentState.userData.librarians.length > 0) {\n\t\t\t\tlibrarianCards = this.props.parentState.userData.librarians.map((librarian) => {\n\t\t\t\t\tvar departments = librarian.librarianData.academicDepartment.find((dept) => {\n\t\t\t\t\t\treturn dept.name === courseData.academicDepartment[0].name;\n\t\t\t\t\t});\n\t\t\t\t\tif ('undefined' !== typeof departments) {\n\t\t\t\t\t\treturn <CardLibrarian key={librarian.id} resource={librarian} handleClick={this.props.handleClick} type=\"librarians\"/>\n\t\t\t\t\t}\n\t\t\t\t\treturn []\n\t\t\t\t}).filter((librarian) => {\n\t\t\t\t\treturn (librarian.length > 0 || Object.keys(librarian).length > 0);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (0 === librarianCards.length) {\n\t\t\tlibrarianCards = []\n\t\t}\n\t\tfunction printTypes(types, click) {\n\t\t\tvar output = [];\n\t\t\tfor (var key in types) {\n\t\t\t\toutput.push(\n\t\t\t\t\t<div key={key + \"wrapper\"}>\n\t\t\t\t\t\t<h3>{key}</h3>\n\t\t\t\t\t\t<div className=\"card-container\">\n\t\t\t\t\t\t{types[key].map((resource) => {\n\t\t\t\t\t\treturn <CardResource key={resource.id} courseSlug={course.slug} resource={resource} handleClick={click} type=\"resources\"/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn output\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\n\t\t\t\t{(librarianCards.length > 0) ? <h2>Librarians</h2> : <div></div>}\n\t\t\t\t<div className=\"card-container\">\n\t\t\t\t\t{librarianCards}\n\t\t\t\t</div>\n\t\t\t\t{(coreResourceCards.length > 0) ? <h2>Core Resources</h2>: <div></div>}\n\t\t\t\t{printTypes(coreResourceTypes, this.props.handleClick)}\n\t\t\t\t<div className=\"card-container\">\n\t\t\t\t\t{coreResourceCards}\n\t\t\t\t</div>\n\t\t\t\t{(resourceCards.length > 0) ? <h2>Resources</h2> : <div></div>}\n\t\t\t\t{printTypes(resourceTypes, this.props.handleClick)}\n\t\t\t\t{ (!resourcesCheck) ? <div className=\"card-container\">{resourceCards}</div> : \n\t\t\t\t\t<div>\n\t\t\t\t\t\t{(resourceCards.lengh > 0) ? <h3>Other Resources</h3> : <div></div>}\n\t\t\t\t\t\t<div className=\"card-container\">\n\t\t\t\t\t\t\t{resourceCards}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewCourse;\n","import React from 'react';\nimport Meta from './Meta.js';\n\nclass ViewResource extends React.Component {\n\trender() {\n\t\tvar resourceData = this.props.parentState.currentObject.resourceData,\n\t\t\tmeta = []\n\t\t\tif ('undefined' !== typeof resourceData && null !== resourceData) {\n\t\t\tmeta = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'URL',\n\t\t\t\t\tvalue: resourceData.url,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Author',\n\t\t\t\t\tvalue: resourceData.author,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'ISBN',\n\t\t\t\t\tvalue: resourceData.isbn,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Publication Year',\n\t\t\t\t\tvalue: resourceData.publicationYear,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Description',\n\t\t\t\t\tvalue: resourceData.description,\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewResource;\n","import React from 'react';\nimport Meta from './Meta.js';\n\nclass ViewLibrarian extends React.Component {\n\t// TODO: add phoot.\n\trender() {\n\t\tvar librarianData = this.props.parentState.currentObject.librarianData,\n\t\t\tmeta = []\n\t\t\tif ('undefined' !== typeof librarianData && null !== librarianData) {\n\t\t\t\tmeta = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Academic Departments',\n\t\t\t\t\t\tvalue: librarianData.academicDepartment.reduce((departmentString, department) => {\n\t\t\t\t\t\t\t// Handle first value.\n\t\t\t\t\t\t\tif ('object' === typeof departmentString) {\n\t\t\t\t\t\t\t\tdepartmentString = departmentString.name;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn departmentString + ', ' + department.name;\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t];\n\n\t\t\tif (null !== librarianData.librarianUserId && 'undefined' !== typeof librarianData.librarianUserId.userData && null !== librarianData.librarianUserId.userData) {\n\t\t\t\tmeta.push(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Email Address',\n\t\t\t\t\t\tvalue: librarianData.librarianUserId.userData.librarian.emailAddress,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Phone Number',\n\t\t\t\t\t\tvalue: librarianData.librarianUserId.userData.librarian.phoneNumber,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Office Location',\n\t\t\t\t\t\tvalue: librarianData.librarianUserId.userData.librarian.officeLocation,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Website',\n\t\t\t\t\t\tvalue: librarianData.librarianUserId.userData.librarian.website,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'Photo',\n\t\t\t\t\t\tvalue: librarianData.librarianUserId.userData.librarian.picture,\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewLibrarian;\n","import React from 'react';\nimport CardContainer from './CardContainer.js';\n\nclass ViewCirculation extends React.Component {\n\trender() {\n\t\tvar requestHeaderContent = <p><a className=\"button carleton\" href=\"https://apps.carleton.edu/campus/library/ill/\">Interlibrary Loan</a><a className=\"button stolaf\" href=\"https://ezproxy.stolaf.edu/login?url=https://stolaf.illiad.oclc.org/illiad/illiad.dll\">Interlibrary Loan</a></p>\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<p>For renewals, request cancellations, and more options, please visit your account page in Catalyst: <a className=\"button carleton\" href=\"https://bridge.primo.exlibrisgroup.com/discovery/login?vid=01BRC_INST:CCO&lang=en\">My Account</a><a className=\"button stolaf\" href=\"https://bridge.primo.exlibrisgroup.com/discovery/login?vid=01BRC_INST:SOC&lang=en\">My Account</a></p>\n\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData.circulationData}\n\t\t\t\t\ttype=\"loans\"\n\t\t\t\t\theader=\"Loans\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t/>\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData.circulationData}\n\t\t\t\t\ttype=\"requests\"\n\t\t\t\t\theader=\"Requests\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t\theaderContent={requestHeaderContent}\n\t\t\t\t/>\n\t\t\t\t<CardContainer\n\t\t\t\t\tuserData={this.props.parentState.userData.circulationData}\n\t\t\t\t\ttype=\"fees\"\n\t\t\t\t\theader=\"Fines &amp; Fees\"\n\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewCirculation;\n","import React from 'react';\nimport Meta from './Meta.js';\n\nclass ViewLoan extends React.Component {\n\n\tformatDate(date) {\n\t\tvar format = {\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\tyear: 'numeric',\n\t\t};\n\t\tdate = new Date(date);\n\t\treturn date.toLocaleDateString(undefined, format);\n\t}\n\n\trender() {\n\t\tvar loan = this.props.parentState.userData.circulationData.loans.find((loan) => {\n\t\t\t\treturn loan.id === this.props.parentState.currentObject.id\n\t\t\t})\n\t\tvar meta = [\n\t\t\t{\n\t\t\t\ttype: 'Due Date',\n\t\t\t\tvalue: this.formatDate(loan.due_date),\n\t\t\t\tclassName: 'important'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Author',\n\t\t\t\tvalue: loan.author,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Status',\n\t\t\t\tvalue: loan.loan_status,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Loan Date',\n\t\t\t\tvalue: this.formatDate(loan.loan_date),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Circulation Desk',\n\t\t\t\tvalue: loan.circ_desk.desc\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Library',\n\t\t\t\tvalue: loan.library.desc\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'Description',\n\t\t\t\tvalue: loan.description\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'URL',\n\t\t\t\tvalue: \"https://bridge.primo.exlibrisgroup.com/discovery/fulldisplay?docid=alma\" + loan.mms_id + \"&vid=01BRC_INST:CCO\",\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewLoan;\n","import React from 'react';\nimport Meta from './Meta.js';\n\nclass ViewRequest extends React.Component {\n\trender() {\n\t\tvar request = this.props.parentState.userData.circulationData.requests.find((request) => {\n\t\t\t\treturn request.id = this.props.parentState.currentObject.id\n\t\t\t}),\n\t\t\tmeta = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'Due Date',\n\t\t\t\t\tvalue: request.due_back_date,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Request Type',\n\t\t\t\t\tvalue: request.request_type,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Pickup Location Library',\n\t\t\t\t\tvalue: request.pickup_location_library.desc,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Pickup Location Circulation Desk',\n\t\t\t\t\tvalue: request.pickup_location_library.desc\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Booking Start Date',\n\t\t\t\t\tvalue: request.booking_start_date,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Booking Start Date',\n\t\t\t\t\tvalue: request.booking_start_date,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Booking End Date',\n\t\t\t\t\tvalue: request.booking_end_date,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Description',\n\t\t\t\t\tvalue: request.description\n\t\t\t\t},\n\t\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewRequest;\n","import React from 'react';\nimport Meta from './Meta.js';\n\nclass ViewFee extends React.Component {\n\trender() {\n\t\tvar fee = this.props.parentState.userData.circulationData.fees.find((fee) => {\n\t\t\t\treturn fee.id = this.props.parentState.currentObject.id\n\t\t\t}),\n\t\t\tmeta = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'Fee Type',\n\t\t\t\t\tvalue: fee.type.value,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'Amount',\n\t\t\t\t\tvalue: fee.original_amount,\n\t\t\t\t},\n\t\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<ul>\n\t\t\t\t\t{meta.length > 0 && meta.map((meta, i) => <Meta key={i} meta={meta} />)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ViewFee;\n","import React from 'react';\nimport SupportWidget from './SupportWidget.js';\n\nclass ViewSupport extends React.Component {\n    render() {\n        return (\n\t\t\t<div className=\"entry-content clear\">\n\t\t\t\t<SupportWidget institution={this.props.parentState.userData.bridgeLibraryInstitution} />\n\t\t\t</div>\n        )\n    }\n}\n\nexport default ViewSupport\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nclass Sidebar extends React.Component {\n\n\tbuildWidgets(course) {\n\t\treturn <CourseWidget key={course.id} course={course} parentState={this.parentState} handleClick={this.handleClick}/>\n\t}\n\n    render () {\n        if (!this.props.error && this.props.parentState.userData.courses !== null) {\n            var courseWidgets = this.props.parentState.userData.courses.map(this.buildWidgets, {\n                parentState: this.props.parentState,\n                handleClick: this.props.handleClick,\n\t\t\t}),\n\t\t\t\twidgets = <li key=\"courses-header\" className=\"menu-item\">\n\t\t\t\t\t<Link to=\"/\">Courses</Link>\n\t\t\t\t\t<ul className=\"sub-menu\">\n\t\t\t\t\t\t{courseWidgets}\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n        }\n\t\tvar widgetClass = 'menu-item';\n\n\t\tif ('home' === this.props.view) {\n\t\t\twidgetClass += ' current-menu-item';\n\t\t}\n\n        return (\n            <div itemType=\"https://schema.org/WPSideBar\" itemScope=\"itemscope\" id=\"secondary\" className=\"widget-area secondary\" role=\"complementary\">\n                <div className=\"sidebar-main\">\n\t\t\t\t\t<aside className=\"widget widget_nav_menu\">\n\t\t\t\t\t\t<div className=\"menu-sidebar-container\">\n\t\t\t\t\t\t\t<ul id=\"menu-sidebar\" className=\"menu\">\n\t\t\t\t\t\t\t\t<li className={widgetClass}>\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">Home</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t{widgets}\n\t\t\t\t\t\t\t\t{ this.props.error || (typeof this.props.parentState.userData.circulationData === 'undefined' || this.props.parentState.userData.circulationData.length === 0) ? <div></div> : <CirculationWidget {...this.props} />}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</aside>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nclass CourseWidget extends React.Component {\n\n    render () {\n        var widgetClass = 'menu-item';\n\n\t\tif ('undefined' !== typeof this.props.parentState.currentObject && this.props.course.id === this.props.parentState.currentObject.id) {\n\t\t\twidgetClass += ' current-menu-item';\n\t\t}\n\n\t\tfunction getCourseTitle(course) {\n\t\t\tvar splitCode = course.courseData.courseCode.split(\"|\");\n\t\t\tvar courseTitle = splitCode[1] + \" \" + splitCode[2] + \": \" + course.title;\n\t\t\treturn courseTitle\n\t\t}\n        return (\n            <li className={widgetClass}>\n                <Link to={\"/courses/\" + this.props.course.slug} onClick={(e) => this.props.handleClick(this.props.course.slug, 'courses')}>{getCourseTitle(this.props.course)}</Link>\n            </li>\n        )\n    }\n}\n\nclass CirculationWidget extends React.Component {\n\n    render () {\n        var widgetClass = 'menu-item';\n\n\t\tif ('circulation' === this.props.parentState.view) {\n\t\t\twidgetClass += ' current-menu-item';\n\t\t}\n        return (\n            <li className={widgetClass}>\n                <Link to={'/circulation-data/'} onClick={(e) => this.props.handleClick('', 'circulation')}>Loans and Requests</Link>\n            </li>\n        )\n    }\n}\n\nexport default Sidebar;\n","import React from \"react\";\n\nclass Spinner extends React.Component {\n    render() {\n        return (\n            <div className=\"spinner-container\">\n                <div className=\"spinner\">\n                    <span className=\"spinner-inner-1\"></span>\n                    <span className=\"spinner-inner-2\"></span>\n                    <span className=\"spinner-inner-3\"></span>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Spinner;\n","import gql from 'graphql-tag';\n\nexport const USER_QUERY = gql`\n    query GET_USERS($email: String) {\n\t\tusers(where: {search: $email}, first: 1) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\tuserId\n\t\t\t\t\tname\n\t\t\t\t\temail\n\t\t\t\t\tnicename\n\t\t\t\t\tuserData {\n\t\t\t\t\t\talternateId\n\t\t\t\t\t\tbridgeLibraryInstitution\n\t\t\t\t\t\tcourses {\n\t\t\t\t\t\t\t... on Course {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tcourseData {\n\t\t\t\t\t\t\t\t\talmaId\n\t\t\t\t\t\t\t\t\tcourseCode\n\t\t\t\t\t\t\t\t\tcourseNumber\n\t\t\t\t\t\t\t\t\tstartDate\n\t\t\t\t\t\t\t\t\tendDate\n\t\t\t\t\t\t\t\t\tinstitution {\n\t\t\t\t\t\t\t\t\t\t... on Institution {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tacademicDepartment {\n\t\t\t\t\t\t\t\t\t\t... on AcademicDepartment {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcourseTerm {\n\t\t\t\t\t\t\t\t\t\t... on CourseTerm {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcoreResources {\n\t\t\t\t\t\t\t\t\t\t... on Resource {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t\t\t\t\tresourceData {\n\t\t\t\t\t\t\t\t\t\t\t\talmaId\n\t\t\t\t\t\t\t\t\t\t\t\tprimoId\n\t\t\t\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\t\t\t\timageUrl {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\taltText\n\t\t\t\t\t\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tprimoImageUrl\n\t\t\t\t\t\t\t\t\t\t\t\tprimoImageInfo\n\t\t\t\t\t\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t\t\t\t\t\t\tisbn\n\t\t\t\t\t\t\t\t\t\t\t\tpublicationYear\n\t\t\t\t\t\t\t\t\t\t\t\tresourceFormat {\n\t\t\t\t\t\t\t\t\t\t\t\t\t... on ResourceFormat {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tresourceType {\n\t\t\t\t\t\t\t\t\t\t\t\t\t... on ResourceType {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tancestors {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trelatedCoursesResources {\n\t\t\t\t\t\t\t\t\t\t... on Resource {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t\t\t\t\tresourceData {\n\t\t\t\t\t\t\t\t\t\t\t\talmaId\n\t\t\t\t\t\t\t\t\t\t\t\tprimoId\n\t\t\t\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\t\t\t\timageUrl {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\taltText\n\t\t\t\t\t\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tprimoImageUrl\n\t\t\t\t\t\t\t\t\t\t\t\tprimoImageInfo\n\t\t\t\t\t\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t\t\t\t\t\t\tisbn\n\t\t\t\t\t\t\t\t\t\t\t\tpublicationYear\n\t\t\t\t\t\t\t\t\t\t\t\tresourceFormat {\n\t\t\t\t\t\t\t\t\t\t\t\t\t... on ResourceFormat {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tresourceType {\n\t\t\t\t\t\t\t\t\t\t\t\t\t... on ResourceType {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tancestors {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcoursesCacheUpdated\n\t\t\t\t\t\tprimoFavorites {\n\t\t\t\t\t\t\t... on Resource {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t\tresourceData {\n\t\t\t\t\t\t\t\t\talmaId\n\t\t\t\t\t\t\t\t\tprimoId\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\timageUrl {\n\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\taltText\n\t\t\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tprimoImageUrl\n\t\t\t\t\t\t\t\t\tprimoImageInfo\n\t\t\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t\t\t\tisbn\n\t\t\t\t\t\t\t\t\tpublicationYear\n\t\t\t\t\t\t\t\t\tresourceFormat {\n\t\t\t\t\t\t\t\t\t\t... on ResourceFormat {\n\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprimoFavoritesCacheUpdated\n\t\t\t\t\t\tlibrarians {\n\t\t\t\t\t\t\t... on Librarian {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tlibrarianData {\n\t\t\t\t\t\t\t\t\tacademicDepartment {\n\t\t\t\t\t\t\t\t\t\t... on AcademicDepartment {\n\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlibrarianUserId {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tuserData {\n\t\t\t\t\t\t\t\t\t\tpictureUrl\n\t\t\t\t\t\t\t\t\t\tlibrarian {\n\t\t\t\t\t\t\t\t\t\t\temailAddress\n\t\t\t\t\t\t\t\t\t\t\tpicture {\n\t\t\t\t\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tphoneNumber\n\t\t\t\t\t\t\t\t\t\t\tofficeLocation\n\t\t\t\t\t\t\t\t\t\t\twebsite\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlibrariansCacheUpdated\n\t\t\t\t\t\tcirculationData\n\t\t\t\t\t\tcirculationDataCacheUpdated\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n`;\n","import React from \"react\";\nimport ViewHome from './ViewHome.js';\nimport ViewCourse from './ViewCourse';\nimport ViewResource from './ViewResource';\nimport ViewLibrarian from './ViewLibrarian';\nimport ViewCirculation from './ViewCirculation';\nimport ViewLoan from './ViewLoan';\nimport ViewRequest from './ViewRequest';\nimport ViewFee from './ViewFee';\nimport ViewSupport from './ViewSupport';\nimport Sidebar from './Sidebar.js';\nimport Spinner from './Spinner.js';\nimport { GET_COURSES, GET_RESOURCES, GET_LIBRARIANS } from './FetchData.js';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t/**\n\t\t * Normalize circulation data\n\t\t */\n\t\tvar circulationData = this.props.data.users.edges[0].node.userData.circulationData;\n\t\tif ('string' === typeof circulationData) {\n\t\t\tcirculationData = JSON.parse(circulationData);\n\n\t\t\t// Convert loan_id to id.\n\t\t\tif (typeof circulationData.loans !== 'undefined' && circulationData.loans !== null) {\n\t\t\t\tcirculationData.loans = circulationData.loans.map((loan) => {\n\t\t\t\t\tloan.id = loan.loan_id;\n\t\t\t\t\tloan.slug = 'loans/' + loan.loan_id;\n\t\t\t\t\treturn loan;\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.props.data.users.edges[0].node.userData.circulationData = circulationData;\n\t\t}\n\t\tthis.state = {\n\t\t\tuser: this.props.data.users.edges[0].node,\n\t\t\tuserData: this.props.data.users.edges[0].node.userData,\n\t\t\tview: this.props.view,\n\t\t\tcurrentView: this.props.currentView,\n\t\t\tcurrentObject: this.getCurrentObject(this.props.view, this.props.data.users.edges[0].node.userData),\n\t\t\tdata: this.props.data.users.edges[0].node.userData,\n\t\t\tloading: false,\n\t\t\terror: null,\n\t\t\tfetchedData: {\n\t\t\t\tcourses: (this.props.data.users.edges[0].node.userData.courses) ?\n\t\t\t\t\t\tthis.props.data.users.edges[0].node.userData.courses.slice(0) :\n\t\t\t\t\t\t[],\n\t\t\t\tresources: [(this.props.data.users.edges[0].node.userData.courses) ?\n\t\t\t\t\t\tthis.allResources() :\n\t\t\t\t\t\t[], ],\n\t\t\t\tlibrarians: (this.props.data.users.edges[0].node.userData.librarians) ?\n\t\t\t\t\t\t\tthis.props.data.users.edges[0].node.userData.librarians.slice(0) :\n\t\t\t\t\t\t\t[],\n\t\t\t},\n\t\t}\n\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.getObjectId = this.getObjectId.bind(this);\n\t\tthis.getCurrentObject = this.getCurrentObject.bind(this);\n\t\tthis.getObjectTitle = this.getObjectTitle.bind(this);\n\t\tthis.fetchData = this.fetchData.bind(this);\n\t\tthis.getUrlSlug = this.getUrlSlug.bind(this);\n\t\tthis.handleHistory = this.handleHistory.bind(this);\n\t\tthis.allResources = this.allResources.bind(this);\n\n\t\twindow.onpopstate = this.handleHistory\n\t}\n\n\tallResources() {\n\t\tvar courseResources = [];\n\t\tthis.props.data.users.edges[0].node.userData.courses.forEach((course) => {\n\t\t\t\tif (null !== course.courseData.relatedCoursesResources) {\n\t\t\t\t\tcourse.courseData.relatedCoursesResources.forEach((resource) =>\n\t\t\t\t\tcourseResources.push(resource)\n\t\t\t\t)}\n\t\t\t}\n\t\t)\n\t\treturn courseResources\n\t}\n\n\thandleHistory() {\n\t\tvar slugInfo = this.getUrlSlug()\n\t\tthis.handleClick(slugInfo.slug, slugInfo.type)\n\t}\n\n\tgetObjectId(id, data) {\n\t\tif (id === 'undefined') {\n\t\t\treturn id;\n\t\t}\n\n\t\tconst url = window.location.href.split(\"/\");\n\t\tconst slug = url.pop() || url.pop();\n\n\t\tvar courseID = data.userData.courses.find((course) => {\n\t\t\treturn course.slug === slug;\n\t\t})\n\t\treturn courseID.id;\n\n\t}\n\n\tgetUrlSlug() {\n\t\tvar path = window.location.pathname\n\t\tvar urlPath = path.split('/')\n\t\tvar slug = urlPath.pop() || urlPath.pop()\n\t\tvar type = urlPath.pop()\n\t\treturn {\n\t\t\tslug: slug,\n\t\t\ttype: type,\n\t\t};\n\t}\n\n\tfetchData() {\n\t\tvar slugdata = this.getUrlSlug();\n\t\tvar fetchQuery;\n\t\tswitch (slugdata.type) {\n\t\t\tcase \"courses\":\n\t\t\t\tfetchQuery = GET_COURSES;\n\t\t\t\tbreak\n\t\t\tcase \"resources\":\n\t\t\t\tfetchQuery = GET_RESOURCES;\n\t\t\t\tbreak\n\t\t\tcase \"librarians\":\n\t\t\t\tfetchQuery = GET_LIBRARIANS;\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tfetchQuery = ''\n\t\t}\n\t\tthis.setState({ loading: true, error: null })\n\t\tfetch('https://'+process.env.REACT_APP_API_DOMAIN+'/graphql', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tquery: fetchQuery,\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tslug: slugdata.slug\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t})\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t})\n\t\t\t\t\t.then(responseAsJson => {\n\t\t\t\t\t\tif (responseAsJson.errors) {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\terror: responseAsJson.errors[0],\n\t\t\t\t\t\t\t\tdata: responseAsJson.data,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar mergedData = this.state.fetchedData\n\t\t\t\t\t\t\tswitch (slugdata.type) {\n\t\t\t\t\t\t\t\tcase \"courses\":\n\t\t\t\t\t\t\t\t\tvar newCourse = {}\n\t\t\t\t\t\t\t\t\tif (responseAsJson.data.courses.edges.length === 0) {\n\t\t\t\t\t\t\t\t\t\tnewCourse = {title: 'Course Not Found'}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewCourse = responseAsJson.data.courses.edges[0].node;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmergedData.courses.push(newCourse);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t\t\terror: null,\n\t\t\t\t\t\t\t\t\t\tdata: responseAsJson.data,\n\t\t\t\t\t\t\t\t\t\tcurrentObject: newCourse,\n\t\t\t\t\t\t\t\t\t\tfetchedData: mergedData,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"resources\":\n\t\t\t\t\t\t\t\t\tvar newResource = {}\n\t\t\t\t\t\t\t\t\tif (responseAsJson.data.resources.edges.length === 0) {\n\t\t\t\t\t\t\t\t\t\tnewResource = {title: 'Resource Not Found'}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewResource = responseAsJson.data.resources.edges[0].node;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmergedData.resources.push(newResource);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t\t\terror: null,\n\t\t\t\t\t\t\t\t\t\tdata: responseAsJson.data,\n\t\t\t\t\t\t\t\t\t\tcurrentObject: newResource,\n\t\t\t\t\t\t\t\t\t\tfetchedData: mergedData,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"librarians\":\n\t\t\t\t\t\t\t\t\tvar newLibrarian = {}\n\t\t\t\t\t\t\t\t\tif (responseAsJson.data.librarians.edges.length === 0) {\n\t\t\t\t\t\t\t\t\t\tnewLibrarian = {title: 'Librarian Not Found'}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewLibrarian = responseAsJson.data.librarians.edges[0].node;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmergedData.librarians.push(newLibrarian);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t\t\terror: null,\n\t\t\t\t\t\t\t\t\t\tdata: responseAsJson.data,\n\t\t\t\t\t\t\t\t\t\tcurrentObject: newLibrarian,\n\t\t\t\t\t\t\t\t\t\tfetchedData: mergedData,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tfetchQuery = ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t}\n\n\tgetCurrentObject(type, data = [], urlSlug = '') {\n\t\tif (0 === data.length && !this.props.error) {\n\t\t\tdata = this.state.userData\n\t\t}\n\n \t\tvar url = window.location.href.split(\"/\");\n\n\t\tif (0 === urlSlug.length) {\n\t\t\turlSlug = url.pop() || url.pop();\n\t\t}\n\n\t\t// Handle resources nested under courses.\n\t\tif ('resources' === type) {\n\t\t\tvar courseSlug = url[4];\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase 'courses':\n\t\t\t\tvar fetchedStateCourse\n\t\t\t\tif ('undefined' !== typeof this.state) {\n\t\t\t\t\tdata = this.state.fetchedData\n\t\t\t\t}\n\t\t\t\tif (data.courses) {\n\t\t\t\t\tfetchedStateCourse = data.courses.find(\n\t\t\t\t\t\t(course) => {return course.slug === urlSlug}\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tif (typeof fetchedStateCourse !== 'undefined') {\n\t\t\t\t\treturn fetchedStateCourse;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstatus: 404,\n\t\t\t\t\ttitle: 'Course Not Found'\n\t\t\t\t}\n\n\t\t\tcase 'resources':\n\t\t\t\tvar fetchedCourse\n\t\t\t\tif ('undefined' !== typeof this.state) {\n\t\t\t\t\tdata = this.state.fetchedData\n\t\t\t\t}\n\t\t\t\tif (data.courses) {\n\t\t\t\t\tfetchedStateCourse = data.courses.find(\n\t\t\t\t\t\t(course) => {return course.slug === urlSlug}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tif (typeof fetchedCourse !== 'undefined') {\n\t\t\t\t\tvar coreResource = (null !== fetchedCourse.courseData.coreResources && fetchedCourse.courseData.coreResources.find((resource) => {\n\t\t\t\t\t\treturn resource.slug === urlSlug;\n\t\t\t\t\t}))\n\t\t\t\t\tvar relatedCoursesResource = (null !== fetchedCourse.courseData.relatedCoursesResources && fetchedCourse.courseData.relatedCoursesResources.find((resource) => {\n\t\t\t\t\t\treturn resource.slug === urlSlug;\n\t\t\t\t\t}))\n\t\t\t\t\tif ('undefined' !== typeof coreResource && false !== coreResource) {\n\t\t\t\t\t\treturn coreResource;\n\t\t\t\t\t}\n\t\t\t\t\tif ('undefined' !== typeof relatedCoursesResource && false !== relatedCoursesResource) {\n\t\t\t\t\t\treturn relatedCoursesResource\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstatus: 404,\n\t\t\t\t\ttitle: 'Resource Not Found'\n\t\t\t\t}\n\n\t\t\tcase 'primoFavorites':\n\t\t\t\treturn data.primoFavorites.find((favorite) => {\n\t\t\t\t\treturn favorite.slug === urlSlug;\n\t\t\t\t})\n\n\t\t\tcase 'librarians':\n\t\t\t\tvar fetchedStateLibrarian\n\t\t\t\tif ('undefined' !== typeof this.state) {\n\t\t\t\t\tdata = this.state.fetchedData\n\t\t\t\t}\n\t\t\t\tif (data.librarians) {\n\t\t\t\t\tfetchedStateLibrarian = data.librarians.find((librarian) => {\n\t\t\t\t\t\treturn librarian.slug === urlSlug;\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (typeof fetchedStateLibrarian !== 'undefined') {\n\t\t\t\t\treturn fetchedStateLibrarian;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstatus: 404,\n\t\t\t\t\ttitle: 'Librarian Not Found'\n\t\t\t\t}\n\n\t\t\tcase 'circulation':\n\t\t\t\treturn {\n\t\t\t\t\ttitle: ''\n\t\t\t\t}\n\n\t\t\tcase 'loans':\n\t\t\t\treturn data.circulationData.loans.find((loan) => {\n\t\t\t\t\treturn loan.id === urlSlug\n\t\t\t\t})\n\n\t\t\tcase 'requests':\n\t\t\t\treturn data.circulationData.requests.find((request) => {\n\t\t\t\t\treturn request.id === urlSlug\n\t\t\t\t})\n\n\t\t\tcase 'fees':\n\t\t\t\treturn data.circulationData.fees.find((fee) => {\n\t\t\t\t\treturn fee.id === urlSlug\n\t\t\t\t})\n\t\t\tcase 'support':\n\t\t\t\treturn {\n\t\t\t\t\ttitle: 'Support'\n\t\t\t\t}\n\t\t\tcase 'error':\n\t\t\t\treturn {\n\t\t\t\t\ttitle: 'Error'\n\t\t\t\t}\n\t\t\tcase 'home':\n\t\t\tdefault:\n\t\t\t\treturn {\n\t\t\t\t\ttitle: 'Home'\n\t\t\t\t}\n\t\t}\n\t}\n\n\tgetObjectTitle(object) {\n\t\tswitch (this.state.view) {\n\t\t\tcase 'courses':\n\t\t\t\tif (object !== null && 'undefined' !== typeof object.courseData) {\n\t\t\t\t\tvar splitCode = object.courseData.courseCode.split(\"|\");\n\t\t\t\t\tvar courseTitle = splitCode[1] + \" \" + splitCode[2] + \": \" + object.title;\n\t\t\t\t\treturn courseTitle\n\t\t\t\t} else {\n\t\t\t\t\treturn object.title\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn object.title\n\t\t}\n\t}\n\n\t/**\n\t * Handle navigation.\n\t *\n\t * @param {string} id GraphQL object ID.\n\t */\n\thandleClick(slug = '', type = 'home') {\n\t\tthis.setState({\n\t\t\tview: type,\n\t\t\tcurrentObject: this.getCurrentObject(type, [], slug)\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.state.currentObject === 'undefined'\n\t\t|| null === this.state.data\n\t\t|| 404 === this.state.currentObject.status) {\n\t\t\tthis.fetchData()\n\t\t}\n\t}\n\n\trender() {\n\t\tif ((this.state.loading)) {\n\t\t\treturn (<Spinner />)\n\t\t}\n\t\tvar currentView;\n\n\t\tif ('home' === this.state.view) {\n\t\t\tcurrentView = <ViewHome parentState={this.state} handleClick={this.handleClick} error={this.props.error} errorMessage={this.props.errorMessage}/>\n\t\t} else if ('courses' === this.state.view) {\n\t\t\tcurrentView = <ViewCourse parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('librarians' === this.state.view) {\n\t\t\tcurrentView = <ViewLibrarian parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('resources' === this.state.view || 'primoFavorites' === this.state.view) {\n\t\t\tcurrentView = <ViewResource parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('circulation' === this.state.view) {\n\t\t\tcurrentView = <ViewCirculation parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('loans' === this.state.view) {\n\t\t\tcurrentView = <ViewLoan parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('requests' === this.state.view) {\n\t\t\tcurrentView = <ViewRequest parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('fees' === this.state.view) {\n\t\t\tcurrentView = <ViewFee parentState={this.state} handleClick={this.handleClick} />\n\t\t} else if ('support' === this.state.view) {\n\t\t\tcurrentView = <ViewSupport parentState={this.state} handleClick={this.handleClick} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Sidebar view={this.state.view} parentState={this.state} handleClick={this.handleClick} error={this.props.error}/>\n\t\t\t\t<div id=\"primary\" className=\"content-area primary\">\n\t\t\t\t\t<main id=\"main\" className=\"site-main\" role=\"main\">\n\t\t\t\t\t\t<article itemType=\"https://schema.org/CreativeWork\" itemScope=\"itemscope\" className=\"page type-page status-publish ast-article-single\">\n\t\t\t\t\t\t\t<header className=\"entry-header ast-no-thumbnail ast-no-meta\">\n\t\t\t\t\t\t\t\t<h1 className=\"entry-title\" itemProp=\"headline\">{this.getObjectTitle(this.state.currentObject)}</h1>\n\t\t\t\t\t\t\t</header>\n\t\t\t\t\t\t\t{currentView}\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n\n\n","import { USER_QUERY } from \"./Graphql\"\n\nexport let GET_COURSES = `query GetCourses($slug: String) {\n                            courses(where: {name: $slug}, first: 1) {\n                              edges {\n                                node {\n                                  id\n                                  title\n                                  slug\n                                  courseData {\n                                    almaId,\n                                    courseCode,\n                                    courseNumber,\n                                    startDate,\n                                    endDate,\n                                    institution {\n                                      ... on Institution {\n                                        id,\n                                        name,\n                                      }\n                                    },\n                                    academicDepartment {\n                                      ... on AcademicDepartment {\n                                        id,\n                                        name,\n                                      }\n                                    },\n                                    courseTerm {\n                                      ... on CourseTerm {\n                                        id,\n                                        name,\n                                      }\n                                    },\n                                    coreResources {\n                                      ... on Resource {\n                                        id,\n                                        slug,\n                                        title,\n                                        content,\n                                        resourceData {\n                                          almaId,\n                                          primoId,\n                                          url,\n                                          imageUrl {\n                                            id,\n                                            altText,\n                                            sourceUrl,\n                                          },\n                                          primoImageUrl,\n                                          primoImageInfo,\n                                          author,\n                                          isbn,\n                                          publicationYear,\n                                          resourceFormat {\n                                            ... on ResourceFormat {\n                                              id,\n                                              name,\n                                            },\n                                          },\n                                          resourceType {\n                                            ... on ResourceType {\n                                              id,\n                                              name,\n                                              ancestors {\n                                                name,\n                                              },\n                                            },\n                                          },\n                                        },\n                                      },\n                                    },\n                                    relatedCoursesResources {\n                                      ... on Resource {\n                                        id,\n                                        slug,\n                                        title,\n                                        content,\n                                        resourceData {\n                                          almaId,\n                                          primoId,\n                                          url,\n                                          imageUrl {\n                                            id,\n                                            altText,\n                                            sourceUrl,\n                                          },\n                                          primoImageUrl,\n                                          primoImageInfo,\n                                          author,\n                                          isbn,\n                                          publicationYear,\n                                          resourceFormat {\n                                            ... on ResourceFormat {\n                                              id,\n                                              name,\n                                            },\n                                          },\n                                          resourceType {\n                                            ... on ResourceType {\n                                              id,\n                                              name,\n                                              ancestors {\n                                                name,\n                                              },\n                                            },\n                                          },\n                                        },\n                                      },\n                                    },\n                                  }\n                                }\n                              }\n                            }\n                          }`\n\nexport let GET_RESOURCES = \n  `query GetResources($slug: String) {\n    resources(where: {name: $slug}, first: 1) {\n      edges {\n        node {\n          id\n          slug\n          title\n          resourceData {\n            url\n            author\n            imageUrl {\n              sourceUrl\n            }\n            primoImageInfo\n            publicationYear\n            resourceFormat {\n              ... on Category {\n                id\n                name\n              }\n            }\n            relatedDepartments {\n              ... on Category {\n                id\n                name\n              }\n            }\n            relatedCoursesResources {\n              ... on Course {\n                id\n              }\n            }\n          }\n        }\n      }\n    }\n  }`\n     \nexport let GET_LIBRARIANS =  \n  `query GetLibrarians($slug: String) {\n    librarians(where: {name: $slug}, first: 1){\n      edges {\n        node {\n          id\n          slug\n          title\n          librarianData {\n            academicDepartment {\n              ... on AcademicDepartment {\n                name\n              }\n            }\n            librarianUserId {\n              id\n              email\n              username\n              description\n              userData {\n                librarian {\n                  emailAddress\n                  phoneNumber\n                  officeLocation\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }`\n","import React from \"react\";\n\nclass LoadingData extends React.Component {\n    render() {\n        return (\n            <div className=\"lds-facebook\">\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n        )\n    }\n}\n\nexport default LoadingData;\n","import React, {useState} from 'react';\nimport { render } from 'react-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from '@apollo/react-components';\nimport App from './App.js';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { USER_QUERY } from './Graphql.js';\nimport { Query } from '@apollo/react-components';\nimport Spinner from './Spinner.js';\nimport Error from './Error.js';\nimport { useQuery } from '@apollo/react-hooks';\nimport LoadingData from './LoadingData.js';\n\nvar globalKeyCheck = true\n\nconst client = new ApolloClient({\n    uri: 'https://'+process.env.REACT_APP_API_DOMAIN+'/graphql',\n})\n\nfunction DelayedQuery({currentData, updateKey}) {\n\tconst {loading, data, refetch, startPolling, stopPolling} = useQuery(USER_QUERY, {variables:{email: window.graphqlQuery.variables.email}, pollInterval: 10000});\n\tif (loading) return <p>Loading ...</p>;\n\tif ((currentData.coursesCacheUpdated !== data.users.edges[0].node.userData.coursesCacheUpdated)||\n\tcurrentData.librariansCacheUpdated !== data.users.edges[0].node.userData.librariansCacheUpdated\n\t|| currentData.primoFavoritesCacheUpdated !== data.users.edges[0].node.userData.primoFavoritesCacheUpdated\n\t|| currentData.circulationDataCacheUpdated !== data.users.edges[0].node.userData.circulationDataCacheUpdated) {\n\t\tglobalKeyCheck = false\n\t\tstopPolling()\n\t\tupdateKey(false)\n\t}\n\treturn (\n\t  <div>\n\t\t  {globalKeyCheck ? <LoadingData/> : <button onClick={() => {globalKeyCheck = true; startPolling(10000); updateKey(false); refetch()}}>Update</button>}\n\t  </div>\n\t);\n}\n\nfunction AppWrapper() {\n\tconst [key, setKey] = useState(false)\n\tconst { loading, error, data } =  useQuery(USER_QUERY, {variables:{email: window.graphqlQuery.variables.email}});\n\tif (loading) return (<Spinner />)\n\tvar errorMessage = \"\";\n\tvar queryError = false;\n\tif (error) {\n\t\treturn (\n\t\t\t<div id=\"primary\" className=\"content-area primary\">\n\t\t\t\t<main id=\"main\" className=\"site-main\" role=\"main\">\n\t\t\t\t<article itemType=\"https://schema.org/CreativeWork\" itemScope=\"itemscope\" className=\"page type-page status-publish ast-article-single\">\n\t\t\t\t\t<header className=\"entry-header ast-no-thumbnail ast-no-meta\">\n\t\t\t\t\t\t<h1 className=\"entry-title\" itemProp=\"headline\">Error</h1>\n\t\t\t\t\t</header>\n\t\t\t\t\t<Error message={error.message}/>\n\t\t\t\t</article>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t)\n\t}\n\tif (!error && 0 === data.users.edges.length) {\n\t\tqueryError = true;\n\t\terrorMessage = 'User not found: ' + window.graphqlQuery.variables.email;\n\t}\n\tif (!error && (data.users.edges[0].node.userData.courses === null || 0 === data.users.edges[0].node.userData.courses.length)) {\n\t\tqueryError = true;\n\t\terrorMessage= 'You have no courses.'\n\t}\n\treturn(\n\t\t\t<Router>\n\t\t\t\t<DelayedQuery currentData={data.users.edges[0].node.userData} updateKey={setKey}/>\n\t\t\t\t<Route exact path=\"/\" render={(props) => <App key={key ? 1 : Date.now()} {...props} data={data} view={\"home\"} error={queryError} errorMessage={errorMessage} />} />\n\t\t\t\t<Route exact path=\"/courses/:slug\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"courses\"} data={data} error={queryError} errorMessage={errorMessage} />} />\n\t\t\t\t<Route exact path=\"/courses/:course/resources/:slug\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"resources\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/primo-favorites/:slug\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={(queryError) ? \"error\": \"primoFavorites\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/librarians/:slug\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"librarians\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/circulation-data/\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"circulation\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/circulation-data/loans/:id\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"loans\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/circulation-data/requests/:id\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"requests\"} data={data} error={queryError}errorMessage={errorMessage} />} />\n\t\t\t\t<Route exact path=\"/circulation-data/fees/:id\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={\"fees\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t\t<Route exact path=\"/support/\" render={(props) => <App key={key ? 1 : Date.now()} {...props} view={(queryError) ? \"error\" : \"support\"} data={data} error={queryError} errorMessage={errorMessage}/>} />\n\t\t\t</Router>\n\t)\n\n}\n\nrender(\n<ApolloProvider client={client}>\n\t\t\t<AppWrapper />\n</ApolloProvider>, document.getElementById('root'));\n"],"sourceRoot":""}